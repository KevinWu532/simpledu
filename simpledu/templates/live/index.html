{% extends "base.html" %}

{% block title %}Live{% endblock %}

{% block body %}
<div class="row">
	<div class="col-md-9">
		<video id="videoElement" width="100%" height="100%" controls="controls"></video>
	</div>
	<div class="col-md-3">
	</div>
</div>
{% endblock %}

{% block tail_js %}
{{ super() }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.3/flv.min.js"></script>

<script>
if (flvjs.isSupported()) {
    // 获取 video 标签
    var videoElement = document.getElementById('videoElement');
   // 初始化播放器
    var flvPlayer = flvjs.createPlayer({
        // 流的类型
        type: 'flv',
        // 是否是直播
        isLive: true,
        // 直播流地址
	url:'https://cn-jsnt-dx-live-03.live-play.acgvideo.com/live-bvc/752108/live_50621949_9557153.flv?expires=1550395942&ssig=GiuBZyZuG0mbU_H2bcSnAQ&oi=2345236705&trid=07131c24b4fa4edab0aa798febe56294&platform=web&pSession=fweyj0DE-JwHE-4M99-eYrt-knCpfc0P88i2'
    });
    flvPlayer.attachMediaElement(videoElement);
    flvPlayer.load();
    // 播放直播
    flvPlayer.play();
}
</script>

{% endblock %}
